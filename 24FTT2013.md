# Logbook
## *By: Edison Phoon Tek Wei*

### Session 15/09/2025

## 1. Check requirements

To recreate this project, we need to have the following installed:
- Laravel Breeze (for authentication template)
- DBNgin (to create MySQL server)
- PHP v8.4 or higher
- npm and node.js
- TablePlus
- Composer

To see full installation, see Appendix A.

To check for version of each, run these commands:
```
bash

php -v
composer -V
node -v
```

## 2. Create Laravel project.

Run this command to order the Laravel to install itself and navigate to the folder:
```
bash

composer create-project laravel/laravel Asg2_NEP_Edison_DCNG03
cd Asg2_NEP_Edison_DCNG03
```

## 3. Create Git Repository

Git is useful for its version control. Initialise it inside project folder with these commands in powershell:

```
git init
git add .
git commit -m "Initial commit"
git branch -M main
```

Type `git add` or `git add .` (for selecting *all files*) to have changes move to stage. Then type `git commit` to commit changes. 

Best practice is to do this everytime a code/file is working fine. This is to enable reverting to a previous version instead of *undoing* all changes which loses days of work.

## 4. Start MySQL Database

Create a server in DBNingin with any name assigned. In this developer's case, the server is named "Edison's Server".

Then open with TablePlus, use the `Ctrl K` keybind to *create a database* named "a2p". 

Update the `.env` file to have the following configurations:

```
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=a2p
DB_USERNAME=root
DB_PASSWORD=
```

Note that; NEVER put *any other* username neither assign a password - as the "Edison's Server" was assigned by default to have a username of "root" with NO password.

If unable connect to TablePlus with shown config, see Appendix B.

## 5. Create Migration

A migration is a system that creates and modifies our database by code instead of manually.  

Create a migration file with this command in powershell:

```
bash

php artisan make:migration create_games_table --create=games
```

Note that a good practice in Laravel is to name migration files as `create_<name>_table` I.E. `create_books_table` to state its function.

Inside `database/migrations`, head to recently created file. We need to define the schema in the `up()` function. It should resemble something like this.

```
public function up(): void
{
    Schema::create('games', function (Blueprint $table) {
        $table->id();
        $table->string('name');
        $table->string('genre');
        $table->integer('rating');
        $table->timestamps();
    });
}
```

This migration will not show up in TablePlus until `php artisan migrate` is typed in powershell.


## 6. Create Seeding

We have the "blueprint" (schema) for our table but it's empty. We fill it with data via a seeding file.

Go ahead and create one with this command in powershell.

```
php artisan make:seeder GamesTableSeeder
```

Now to `database/seeders`, then our recently created file. We need to define the `run()` function *and* import facades. So it resemble something like this

```
use Illuminate\Support\Facades\DB;

public function run(): void
{
    DB::table('games')->insert([
        [
        'name' => 'Minecraft', 
        'genre' => 'Sandbox', 
        'rating' => 7, 
        'created_at' => now(), 
        'updated_at' => now()
        ]
    ]);
}
```

Apply the seeder by typing in powershell:
```
php artisan db:seed --class=GamesTableSeeder
```

Since this developer isn't using Eloquent model via `php artisan make:model Game`, Laravel will not generate *created_at* and *updated_at* columns (timestamps).

To solve this, the solution is to use `now()` method at the schema for "created_at" and "updated_at" columns.


## 7. Model

A model is, in layman's terms, the "data" itself inside a table. While seeding is the process of inserting that data into the table. There are two ways to automate seeding process, *manually* and *mass assignment*. Mass assignment enables multiple data columns to be filled at all once.

To a create a model, type this command in powershell:

```
php artisan make:model Game
```

Now to `app/Models`, to recently created file. Add a `$fillable` property to enable mass assignment as well as to prevent mass assignment vulnerability error. It should resemble something like this:

```
protected $fillable = ['name', 'genre', 'rating'];
```

To apply model, we can use `php artisan tinker` command with the following to insert a record;
```
Game::create(['name' => 'ULTRAKILL', 'genre' => 'FPS', 'rating' => 8]);
```

To apply we use `php artisan serve` command. If encounter error "Failed to listen on 127.0.0.1:8000 (reason: ?)", see Appendix B.


## Session 16/09/2025


## 8. Controller

A controller is a medium that connects route to model. Without it, we cannot access model via route. To create a controller, we use this command:
```
bash

php artisan make:controller GameController
```

## 9. Controller Defining -> CRUD 

CRUD stands for Create, Read, Update, Delete. 

To save time and avoid human error, I used the command `php artisan make:controller GameController --resource --model=Game` - this generates a controller with all CRUD functions and linked to the "Game" model. Although each function still required defining.

It should resembling like this:

```
namespace App\Http\Controllers;

use App\Models\Game;
use Illuminate\Http\Request;

class GameController extends Controller
{
    /**
     * Display a listing of the resource.
     */
    public function index()
    {
        $game = Game::all();
        return view('games.index', compact('game'));
    }

    /**
     * Show the form for creating a new resource.
     */
    public function create()
    {
        return view('games.create');
    }

    /**
     * Store a newly created resource in storage.
     */
    public function store(Request $request)
    {
        $validated = $request->validate([
            'name' => 'required|string|max:30',
            'genre' => 'required|string|max:30',
            'rating' => 'required|numeric|min:0|max:10',
        ])
    }

    /**
     * Display the specified resource.
     */
    public function show(Game $game)
    {
        return view('games.show', compact('game'));
    }

    /**
     * Show the form for editing the specified resource.
     */
    public function edit(Game $game)
    {
        return view('games.edit', compact('game'));
    }

    /**
     * Update the specified resource in storage.
     */
    public function update(Request $request, Game $game)
    {
        $validated = $request->validate([
            'name' => 'required|string|max:30',
            'genre' => 'required|string|max:30',
            'rating' => 'required|numeric|min:0|max:10',
        ]);

        $game->update($validated);

        return redirect()->route('game.index')
                         ->with('success', 'Game updated successfully.');
    }

    /**
     * Remove the specified resource from storage.
     */
    public function destroy(Game $game)
    {
        $game->delete();
        
        return redirect()->route('game.index')  
                         ->with('success', 'Game deleted successfully.');
    }
}
```


### 10. Add New Route

If we use an analogy; A route is like a road that tells traffic (our HTTP request) where to go. A controller is the traffic police that decides what to do with the incoming requests. A model is the end destination that the traffic is heading to.

But for now, our controller has no route to go to. We define one with a `resource` route which removes the need to manually define route for each CRUD function. 

Go to `routes/web.php` and add this line at the bottom:

```
Route::resource('games', GameController::class);
```


## 11. Custom Views

To get the views I created a folder named `games` inside `resources/views` folder. 

Then I created the following files:
- index.blade.php
- create.blade.php
- edit.blade.php
- show.blade.php

## 12. Use the Template System

To avoid repeating the same thing over and over again, we use the use the template system.

I created a `game` folder inside `resources/views` folder. Then created a file named `index.blade.php` inside it.

I asked DeepSeek to create me a HTML structure in Blade template format. It looks something like this:

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Management Dashboard</title>
    <!-- Bootstrap CSS for nice styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>
<body>
    <div class="container-fluid">
        <!-- Dashboard Header -->
        <div class="row bg-dark text-white p-3">
            <div class="col">
                <h1><i class="fas fa-gamepad me-2"></i>Game Dashboard</h1>
            </div>
            <div class="col text-end">
                <span class="me-3">Admin Edison</span>
                <span class="badge bg-success">You're logged in!</span>
            </div>
        </div>

        <!-- Main Content -->
        <div class="row mt-4">
            <div class="col-12">
                <!-- Action Buttons -->
                <div class="d-flex justify-content-between mb-4">
                    <h2><i class="fas fa-table me-2"></i>Games Table</h2>
                    <a href="{{ route('games.create') }}" class="btn btn-primary">
                        <i class="fas fa-plus me-1"></i>Add New Game
                    </a>
                </div>

                <!-- Games Table -->
                <div class="card">
                    <div class="card-body">
                        @if(session('success'))
                            <div class="alert alert-success alert-dismissible fade show">
                                {{ session('success') }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                            </div>
                        @endif

                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead class="table-dark">
                                    <tr>
                                        <th>ID</th>
                                        <th>Game Title</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                        <th>Created At</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @forelse($games as $game)
                                        <tr>
                                            <td>{{ $game->id }}</td>
                                            <td>{{ $game->title }}</td>
                                            <td>${{ number_format($game->price, 2) }}</td>
                                            <td>
                                                <span class="badge {{ $game->is_active ? 'bg-success' : 'bg-secondary' }}">
                                                    {{ $game->is_active ? 'Active' : 'Inactive' }}
                                                </span>
                                            </td>
                                            <td>{{ $game->created_at->format('M d, Y') }}</td>
                                            <td>
                                                <!-- VIEW Button -->
                                                <a href="{{ route('games.show', $game) }}" class="btn btn-info btn-sm" title="View">
                                                    <i class="fas fa-eye"></i>
                                                </a>

                                                <!-- EDIT Button -->
                                                <a href="{{ route('games.edit', $game) }}" class="btn btn-warning btn-sm" title="Edit">
                                                    <i class="fas fa-edit"></i>
                                                </a>

                                                <!-- DELETE Button -->
                                                <form action="{{ route('games.destroy', $game) }}" method="POST" class="d-inline" onsubmit="return confirm('Delete this game?')">
                                                    @csrf
                                                    @method('DELETE')
                                                    <button type="submit" class="btn btn-danger btn-sm" title="Delete">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </form>
                                            </td>
                                        </tr>
                                    @empty
                                        <tr>
                                            <td colspan="6" class="text-center text-muted py-4">
                                                <i class="fas fa-gamepad fa-2x mb-2"></i>
                                                <p>No games found. <a href="{{ route('games.create') }}">Create the first game!</a></p>
                                            </td>
                                        </tr>
                                    @endforelse
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript for interactivity -->
    <script>
        // Auto-hide alerts after 5 seconds
        setTimeout(() => {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                new bootstrap.Alert(alert).close();
            });
        }, 5000);

        // Enhanced delete confirmation
        document.querySelectorAll('form[onsubmit]').forEach(form => {
            form.onsubmit = function(e) {
                const gameTitle = this.closest('tr').querySelector('td:nth-child(2)').textContent;
                return confirm(`Are you sure you want to delete "${gameTitle.trim()}"?`);
            };
        });
    </script>
</body>
</html>
```

## 13. Implement Views for CRUD Functions

After setting up a template, I then extended it to each view file. We need one for "Create", "Read", "Update" and "Delete" functions.

Just to note, make sure that your `index.blade.php` file is spelled with lowercase "I" if you did put `index.blade.php` in the route, to avoid "View not found" error. For the `index.blade.php`, it acts as both the "show" function as well as layout for other views.

For the `show.blade.php` file, it looks something like this:

```
@extends('layouts.app')

@section('title', 'Game Details')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h2>Game Details</h2>
                </div>
                <div class="card-body">
                    @if($game)
                        <div class="mb-3">
                            <strong>ID:</strong> {{ $game->id }}
                        </div>
                        <div class="mb-3">
                            <strong>Title:</strong> {{ $game->title }}
                        </div>
                        <div class="mb-3">
                            <strong>Price:</strong> ${{ number_format($game->price, 2) }}
                        </div>
                        <div class="mb-3">
                            <strong>Description:</strong> 
                            <p>{{ $game->description ?? 'No description available' }}</p>
                        </div>
                        <div class="mb-3">
                            <strong>Status:</strong>
                            <span class="badge {{ $game->is_active ? 'bg-success' : 'bg-secondary' }}">
                                {{ $game->is_active ? 'Active' : 'Inactive' }}
                            </span>
                        </div>
                        <div class="mb-3">
                            <strong>Created:</strong> {{ $game->created_at->format('M d, Y') }}
                        </div>
                    @else
                        <div class="alert alert-warning">
                            Game not found!
                        </div>
                    @endif

                    <div class="d-flex gap-2">
                        <a href="{{ route('games.index') }}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </a>
                        <a href="{{ route('games.edit', $game) }}" class="btn btn-warning">
                            <i class="fas fa-edit"></i> Edit
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection
```

For the `create.blade.php` file, it looks something like this:

```
@extends('layouts.app')

@section('title', 'Add New Game')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h2>Add New Game</h2>
                </div>
                <div class="card-body">
                    <form action="{{ route('games.store') }}" method="POST">
                        @csrf

                        <div class="mb-3">
                            <label for="title" class="form-label">Game Title *</label>
                            <input type="text" class="form-control @error('title') is-invalid @enderror" 
                                   id="title" name="title" value="{{ old('title') }}" required>
                            @error('title')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="price" class="form-label">Price *</label>
                            <input type="number" step="0.01" class="form-control @error('price') is-invalid @enderror" 
                                   id="price" name="price" value="{{ old('price') }}" required>
                            @error('price')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control @error('description') is-invalid @enderror" 
                                      id="description" name="description" rows="4">{{ old('description') }}</textarea>
                            @error('description')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="is_active" name="is_active" value="1" {{ old('is_active', true) ? 'checked' : '' }}>
                            <label class="form-check-label" for="is_active">Active Game</label>
                        </div>

                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Create Game
                            </button>
                            <a href="{{ route('games.index') }}" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Cancel
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection
```

For the `edit.blade.php` file, it looks something like this:

```
@extends('layouts.app')

@section('title', 'Add New Game')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h2>Add New Game</h2>
                </div>
                <div class="card-body">
                    <form action="{{ route('games.store') }}" method="POST">
                        @csrf

                        <div class="mb-3">
                            <label for="title" class="form-label">Game Title *</label>
                            <input type="text" class="form-control @error('title') is-invalid @enderror" 
                                   id="title" name="title" value="{{ old('title') }}" required>
                            @error('title')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="price" class="form-label">Price *</label>
                            <input type="number" step="0.01" class="form-control @error('price') is-invalid @enderror" 
                                   id="price" name="price" value="{{ old('price') }}" required>
                            @error('price')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control @error('description') is-invalid @enderror" 
                                      id="description" name="description" rows="4">{{ old('description') }}</textarea>
                            @error('description')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="is_active" name="is_active" value="1" {{ old('is_active', true) ? 'checked' : '' }}>
                            <label class="form-check-label" for="is_active">Active Game</label>
                        </div>

                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Create Game
                            </button>
                            <a href="{{ route('games.index') }}" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Cancel
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection
```

For the `update.blade.php` file, does not have a blade template as it's handled by a function in the `GameController.php` file.





# Appendixes, Footnotes and References


## Appendix A 

Installation of *Breeze*

1) If you have a pre-existing Laravel project, run `composer require laravel/breeze --dev` command which installs the Breeze package.

2) Run `php artisan breeze:install` command to publish resources to your project folder. 

3) Run `php artisan migrate` to apply migration.

Installation of *npm*

1) Type `npm install` command which installs the npm package. 

2) Run `npm run dev` to compile all assets.


## Appendix B

(A) [SUPERCEDED] Error -> `Driver error 20002: Can't connect to MySQL server on '127.0.0.1'`

Status: Resolved at (D) Error [NEWEST]

Solution [SUPERCEDED] -> Let the Omnimessiah guide your way to `C:\Windows\System32\drivers\etc\hosts` and make changes as following below. After that, restart by re-attempting to connect in TablePlus.
```
plaintext

127.0.0.1       localhost
::1             localhost
```

(B) [SUPERCEDED] Error -> You still cannot connect to the database.

Status: Resolved at (D) Error [NEWEST]

Solution [SUPERCEDED] -> Open up your own development MySQL Server to circumvent the issue. Here's the rough list of configurations and steps:
```
plaintext

Choose Setup Type => Custom
MYSQL Server => Will be installed on local hard drive
Client Programs => Will be installed on local hard drive
Development Components => (No need to enable since you are using TablePlus)
Server Configuration Type => Development Computer
Port = 3306
X Protocol Port = 33060
Enable TCP/IP Networking => (You must enable this)
User account & Password => (You create your own here, just remember to update the .env file accordingly)
```
And here's the `.env` file configuration:
```
plaintext

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=a2p
DB_USERNAME=test
DB_PASSWORD=admin@12345678
```

(C) [SUPERCEDED] Error -> ERROR 2003 (HY000): Can't connect to MySQL server on localhost (10061)

Status: Resolved at (D) Error [NEWEST]

Solution [SUPERCEDED] -> Make sure that MySQL server is running with the command `netstat -ano | findstr :3306`. If nothing shows up, start the server with `net start MySQL80` with Powershell as administrator. If this still does not work, then pray to the Machine God that the solution to Error (B) works if you haven't tried yet.

**(D) Error [NEWEST]** -> You cannot connect to the database with TablePlus

Solution [NEWEST] -> 

1) Uninstall mySQL server on your desktop to avoid port conflicts.

2) Close all DBngin servers then create a new server with simply putting a name and leaving everything else as default. 

3) Install `npm` and `breeze` with the following commands:
```
bash

npm install
composer require laravel/breeze --dev
```

3) Create a new server on DBNgin. Then, go to TablePlus and create a new connection with the following configuration:
```
plaintext

Name = AP2
Host/IP = 127.0.0.1
Port = 3306
User = root
Password = 
Database = 
```
**Note:** You MUST use `root` as the username and leave the password blank as that's DBNgin's default config. Do not have spaces in the `name` field to avoid future problems. Make sure to have the `.env` file reflect this change.

After saving and testing the connection, head to **Show Database List** via "Ctrl + K" and create a new database named `a2p` and open it. Your **table** dropdown tab should contain a list of database tables including the `games` table. If you don't see it, try refreshing the database and MAKE SURE you apply migration with `php artisan migrate` command.

(D) Error -> Failed to listen on 127.0.0.1:8000 (reason: ?)

Solution -> Type `cd public` in powershell while inside your project folder. Then run `php -S localhost:8000` command to force start the server. Exit with `Ctrl C` keybind.

## Appendix C




## Terms

Deprecated = This solution is still functional but is no longer recommended due to there exists better alternatives.

Superceded = This solution is no longer relevant and useful due to discovery of newer solutions.

Newest = This solution is the most recent and up-to-date, meant to replace a solution marked as "Superceded". Otherwise, treat this is any other error & solution.

## Material used
05 - New design layout for blog Project | Laravel Daily. (n.d.). https://laraveldaily.com/lesson/laravel-from-scratch/design-layout-blog

https://lms.pb.edu.bn/vle/sict/pluginfile.php/254453/mod_resource/content/0/Week%206%20-%20Laravel%20Views%20%20HTTP%20Requests.pdf

https://medium.com/@anteprocess/basics-of-laravel-by-making-a-crud-for-beginners-part-1-a8729606eebd

https://medium.com/@Ashleecooper/laravel-development-using-herd-1da0932b9888

https://www.youtube.com/watch?v=57UVyqeXnCs

