# Logbook
## *By: Edison Phoon Tek Wei*

### Session 05/09/2025

## 1. Check requirements

To recreate this project, we need to have the following installed:
- Laravel Breeze (for authentication template)
- DBNgin (to create MySQL server)
- PHP v8.4 or higher
- npm and node.js
- TablePlus
- Composer

To see full installation, see Appendix A.

To check for version of each, run these commands:
```
bash

php -v
composer -V
node -v
```

## 2. Create Laravel project.

Run this command to order the Laravel to install itself and navigate to the folder:
```
bash

composer create-project laravel/laravel Asg2_NEP_Edison_DCNG03
cd Asg2_NEP_Edison_DCNG03
```

## 3. Git Repository

We want Git for its version control so initialise it on project folder with these commands:
```
bash

git init
git add .
git commit -m "Initial commit"
git branch -M main
```

## 4. Database

Create a server in DBNingin with any name you assign. Then open it with TablePlus to create a database named "a2p". Update the `.env` file to have these configurations.

```
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=a2p
DB_USERNAME=root
DB_PASSWORD=
```

If unable connect to TablePlus with shown config, see Appendix B.

## 5. Migration

A migration to the create and modify our database by code instead of manually. A best practice in Laravel is to name migration files as `create_<name>_table` I.E. `create_books_table`. Create one with this command.

```
bash

php artisan make:migration create_games_table --create=games
```

Head to `database/migrations` to recently created migration file. At the `up()` function, add this to define table schema.

```
public function up(): void
{
    Schema::create('games', function (Blueprint $table) {
        $table->id();
        $table->string('name');
        $table->string('genre');
        $table->integer('rating');
        $table->timestamps();
    });
}
```
Normally, nothing will happen and this file will not show up on TablePlus until we type this command to apply migration.

```
php artisan migrate
```


## 6. Seeding

We have the "blueprint" for our table, but it's empty. We fill it with data via a seeding file.

```
php artisan make:seeder GamesTableSeeder
```

Head to `database/seeders` to recently created file. At the `run()` function, add this to insert an entry.

```
use Illuminate\Support\Facades\DB;

public function run(): void
{
    DB::table('games')->insert([
        [
        'name' => 'Minecraft', 
        'genre' => 'Sandbox', 
        'rating' => 7, 
        'created_at' => now(), 
        'updated_at' => now()
        ]
    ]);
}
```

Take note that since we are using the ****DB::table('games')->insert()**** method instead of Eloquent model via **php artisan make:model Game**, Laravel will not generate *created_at* and *updated_at* columns (timestamps). It is optional step that you'd manually add entry for those 2 fields.


## 7. Model

If seeding is inserting data into table, then a model is that individual data itself. There are two ways to automate seeding process, one is manually and the other is mass assignments which fills multiple data columns at all once. We will use mass assignment but as a precaution, we need a model file first.

```
php artisan make:model Game
```

Head to `app/Models` to recently created file. Add this line to allow mass assignment.

```
protected $fillable = ['name', 'genre', 'rating'];
```


To apply model, we can use `php artisan tinker` command with the following to insert a record;
```
Game::create(['name' => 'Hitman: Blood Money', 'genre' => 'Stealth', 'rating' => 6]);
```

To apply we use `php artisan serve` command. If encounter error "Failed to listen on 127.0.0.1:8000 (reason: ?)", see Appendix B.


## 9. Controller

A controller is a medium that connects route to model. Without it, we cannot access model via route. To create a controller, we use this command:
```
bash

php artisan make:controller GameController
```

Inside its `index()` function, we add this to read all data from `games` table:
```
php

public function index() {
    $games = Game::all();

    return response()->json($games);
}
```

On top of the code, we need to import the model by this line:
```
php

use App\Models\Game;
```

### Session 11/09/2025

### 10. Route

If we use an analogy; A route is like a road that tells traffic (our HTTP request) where to go. A controller is the traffic police that decides what to do with the incoming requests. A model is the end destination that the traffic is heading to.

Go to `routes/web.php` and add this line:
```
php

Route::get('/games', [GameController::class, 'index']);
```

## Session 12/09/2025

## 12. Custom Views

In order to run our own custom views, we need to use the template system provided. We will create folder named "game" inside `resources/views` folder and create two files named `index.blade.php` and `create.blade.php` inside it.

But without telling our `routes/web.php` about this change, the files are useless, so we add this line:
```
php


Inside our `index.blade.php`, we will make a simple HTML structure. For me, I used chatgpt to generate me one with TailwindCSS.


## 13. Custom Views

We want to use Laravel's template system, deploy static assets/files and have custom views.

We already have Laravel pre-created template for us in `resources/views` folder, even editing it counts as "custom".

In both `welcome.blade.php` and `dashboard.blade.php` files, I learnt its HTML structure through "which goes to where" by deleting sections of code and refreshing the main page. 


## Appendix A 

Installation of *Breeze*

1) If you have a pre-existing Laravel project, run `composer require laravel/breeze --dev` command which installs the Breeze package.

2) Run `php artisan breeze:install` command to publish resources to your project folder. 

3) Run `php artisan migrate` to apply migration.

Installation of *npm*

1) Type `npm install` command which installs the npm package. 

2) Run `npm run dev` to compile all assets.


## Appendix B

(A) [SUPERCEDED] Error -> `Driver error 20002: Can't connect to MySQL server on '127.0.0.1'`

Solution [SUPERCEDED] -> Let the Omnimessiah guide your way to `C:\Windows\System32\drivers\etc\hosts` and make changes as following below. After that, restart by re-attempting to connect in TablePlus.
```
plaintext

127.0.0.1       localhost
::1             localhost
```

(B) [SUPERCEDED] Error -> You still cannot connect to the database.

Solution [SUPERCEDED] -> Open up your own development MySQL Server to circumvent the issue. Here's the rough list of configurations and steps:
```
plaintext

Choose Setup Type => Custom
MYSQL Server => Will be installed on local hard drive
Client Programs => Will be installed on local hard drive
Development Components => (No need to enable since you are using TablePlus)
Server Configuration Type => Development Computer
Port = 3306
X Protocol Port = 33060
Enable TCP/IP Networking => (You must enable this)
User account & Password => (You create your own here, just remember to update the .env file accordingly)
```
And here's the `.env` file configuration:
```
plaintext

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=a2p
DB_USERNAME=test
DB_PASSWORD=admin@12345678
```

(C) [SUPERCEDED] Error -> ERROR 2003 (HY000): Can't connect to MySQL server on localhost (10061)

Solution [SUPERCEDED] -> Make sure that MySQL server is running with the command `netstat -ano | findstr :3306`. If nothing shows up, start the server with `net start MySQL80` with Powershell as administrator. If this still does not work, then pray to the Machine God that the solution to Error (B) works if you haven't tried yet.

**(D) Error [NEWEST]** -> You cannot connect to the database with TablePlus

Solution [NEWEST] -> 

1) Uninstall mySQL server on your desktop to avoid port conflicts.

2) Close all DBngin servers then create a new server with simply putting a name and leaving everything else as default. 

3) Install `npm` and `breeze` with the following commands:
```
bash

npm install
composer require laravel/breeze --dev
```

3) Create a new server on DBNgin. Then, go to TablePlus and create a new connection with the following configuration:
```
plaintext

Name = AP2
Host/IP = 127.0.0.1
Port = 3306
User = root
Password = 
Database = 
```
**Note:** You MUST use `root` as the username and leave the password blank as that's DBNgin's default config. Do not have spaces in the `name` field to avoid future problems. Make sure to have the `.env` file reflect this change.

After saving and testing the connection, head to **Show Database List** via "Ctrl + K" and create a new database named `a2p` and open it. Your **table** dropdown tab should contain a list of database tables including the `games` table. If you don't see it, try refreshing the database and MAKE SURE you apply migration with `php artisan migrate` command.

## Appendix C




## Terms

Deprecated = This solution is still functional but is no longer recommended due to there exists better alternatives.

Superceded = This solution is no longer relevant and useful due to discovery of newer solutions.

Newest = This solution is the most recent and up-to-date, meant to replace a solution marked as "Superceded". Otherwise, treat this is any other error & solution.

## Footnotes

[^1]: Might as well be computer-magick if you see this error. This nightmare took me 2 days to solve WITHOUT colleague assistance EVEN with ChatGPT's help - during semester break - of me constantly skipping breakfast & lunch, having severe dehydration symptoms, family activity avoidance, moderate eye strains, sleep deprivation and probably lost around few KGs as a very lean man myself. I included this as a humorous side - NOT an actual step.